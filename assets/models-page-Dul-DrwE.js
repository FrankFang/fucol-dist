import{c as g,r as i,x as E,b as e,e as o,m as S,B as s,n as k,w as D,S as w,g as n,i as T,p as I}from"./index-CowSbynL.js";import{D as A}from"./date-picker-wgI5DOO0.js";import{I as R}from"./input-Di_pthpZ.js";import{T as N}from"./table-BvClhQCn.js";import{T as O}from"./tag-DYtrA518.js";import{A as b}from"./add-ojiAuodK.js";import{E as j}from"./export-DWM6igy0.js";import{S as _}from"./selectable-card-DDps2EVD.js";import{R as h,D as L}from"./remove-confirm-CK_0TK4D.js";import{E as C}from"./edit-tJRPPmLT.js";import{I as M}from"./import-wwwvMR2F.js";import{E as P}from"./export-Btq0A6EJ.js";import{R as B}from"./remove-confirm-CdLnYlZA.js";import{S as V}from"./select-ABZmvD2f.js";import"./pool-list.schema-BuL7WaTi.js";const F=g({emits:["done","both"]},(c,{emit:m})=>{const d=i([{id:1,modelName:"Model Name",time:"2022.07.18.16:00",mode:"EXIST"},{id:2,modelName:"Model Name",time:"2022.07.18.16:00",mode:"NEW"}]),a=i([]),u=E(()=>a.value.length>0),p=(l,t)=>{t?a.value.push(l):a.value=a.value.filter(r=>r!==l)},f=()=>{a.value.length===1&&m("done",a.value[0])},x=()=>{a.value.length===2&&m("both",a.value)};return()=>e(k,null,[e("header",{class:"text-sm font-bold text-[#999] absolute left-4 top-4"},[o("CONFLICT")]),e("div",{class:"flex justify-between items-center flex-col mt-12"},[e("div",{class:"w-full grid grid-cols-2 gap-2"},[d.value.map(l=>e(_,{key:l.id,modelValue:a.value.includes(l.id),"onUpdate:modelValue":t=>p(l.id,t)},{default:()=>[e("div",null,[l.mode&&e("div",{class:S("text-xs font-bold mb-2",l.mode==="EXIST"?"text-[#999]":"text-[#FF8B17]")},[l.mode]),e("div",{class:"text-[#4E5575] text-base font-bold cursor-pointer"},[l.modelName]),e("div",{class:"text-xs text-[#666]"},[l.time])])]}))]),e("div",{class:"flex justify-between items-center mt-8 w-full"},[e(s,{level:"text",width:"fit",class:"h-8 text-sm text-[#999]"},{default:()=>[o("Select to update")]}),a.value.length===1&&e(s,{level:"important",width:"fit",type:"submit",class:"h-8 text-sm font-bold !px-7",disabled:!u.value,onClick:f},{default:()=>[o("DONE")]}),a.value.length===2&&e(s,{level:"important",width:"fit",type:"submit",class:"h-8 text-sm font-bold !px-7",disabled:!u.value,onClick:x},{default:()=>[o("KEEP BOTH")]})])])])});function X(c){return typeof c=="function"||Object.prototype.toString.call(c)==="[object Object]"&&!T(c)}const oe=g(null,()=>{i({page:1,perPage:10,total:100});const c=i({resource:[{index:1,id:"1",name_id:"name_id",data_space:"data_space",status:"status",created_at:"created_at",modify:"modify",qa:"qa"}]});D(()=>c.value,()=>{var l;console.log("data: ",(l=c.value)==null?void 0:l.resource)});const m=i([{prop:"index",header:()=>"NO.",width:"80px"},{prop:"name_id",header:()=>"NAME/ID"},{prop:"data_space",header:()=>"DATA SPACE"},{prop:"status",header:()=>"STATUS"},{prop:"qa",header:()=>"Q&A"},{prop:"created_at",header:()=>"CREAT"},{prop:"modify",header:()=>"MODIFY"},{prop:"actions",header:()=>"ACTIONS",cell:l=>e("div",{class:"flex gap-x-4 items-center"},[e(s,{level:"text",width:"fit",class:"h-8 text-sm font-bold !px-0",onClick:()=>x()},{default:()=>[o("VIEW")]}),e(s,{level:"text",width:"fit",class:"h-8 text-sm font-bold !px-0",onClick:()=>{const t=n({content:()=>e(M,{onBack:()=>t(),onImport:()=>{t(),n({content:()=>e(F,null,null),class:"w-[560px]"})}},null),class:"w-[372px]"})}},{default:()=>[o("IMPORT")]}),e(I,{ref:p},{default:()=>[e("div",{class:"font-bold w-24"},[e(s,{level:"text",class:"flex items-center justify-center text-left px-4 py-2 !h-10 w-full",onClick:()=>{f();const t=n({content:()=>e(P,{onCancel:()=>t(),content:()=>"Selected items will be exported to .csv format, which you can open with Excel"},null),hideHeader:!0})}},{default:()=>[o("EXPORT")]}),e("div",{class:"h-[1px] bg-[#EEE]"},null),e(s,{level:"text",class:"flex items-center justify-center text-left px-4 py-2 !h-10 w-full",onClick:()=>{f(),n({content:()=>e(b,null,null),class:"w-[384px]"})}},{default:()=>[o("EDIT")]}),e("div",{class:"h-[1px] bg-[#EEE]"},null),e(s,{level:"text",class:"flex items-center justify-center text-left px-4 py-2 !h-10 text-red-500 w-full",onClick:()=>{f();const t=n({content:()=>e(B,{content:()=>e("div",null,[o("It cannot be restored after deletion."),e("br",null,null),o("Are you sure you want to remove it?")]),onClose:()=>t(),onSubmit:()=>{t(),console.log("submit")}},null),class:"w-[266px]",hideHeader:!0})}},{default:()=>[o("REMOVE")]})])]})])}]),d=i(!1),a=i(null),u=E(()=>a.value?a.value.getSelectedRows():{indexList:[],rows:[]}),p=i(),f=()=>{var l;(l=p.value)==null||l.hide()},x=()=>{const l=n({content:()=>e(L,{onEdit:()=>{l();const t=n({content:()=>e(C,{onBack:()=>t()},null)})},onRemove:()=>{l();const t=n({content:()=>e(h,{onClose:()=>t()},null),class:"w-[256px]"})}},null)})};return()=>{var l;return e("div",{class:"p-8"},[e("header",{class:"text-3xl font-bold mb-8"},[o("Models")]),e("x-toolbar",{class:"flex justify-between items-center mb-4"},[!d.value&&e("div",{class:"flex gap-x-4 items-center"},[e(R,{class:"!w-64",placeholder:"Search"},{prefix:()=>e(w,{name:"search",colored:!0,class:"mx-2"},null)}),e(V,{class:"!w-64",placeholder:"Status",filterable:!0},null),e(A,null,null)]),e("x-actions",{class:"w-full"},[d.value?e("div",{class:"flex items-center gap-x-4 justify-between w-full"},[u.value.indexList.length>0?e("div",{class:"flex items-center gap-x-4 justify-end"},[u.value.indexList.length===1&&e(s,{width:"fit",class:"h-8 text-sm",onClick:()=>{const t=n({content:()=>e(C,{onBack:()=>t()},null),class:"w-[384px]"})}},{default:()=>[o("EDIT")]}),e(s,{width:"fit",class:"h-8 text-sm",onClick:()=>{n({content:()=>e(j,{onCancel:()=>close()},null),class:"w-[256px]"})}},{default:()=>[o("EXPORT")]}),e(s,{level:"remove_outline",width:"fit",class:"h-8 text-sm",onClick:()=>{const t=n({content:()=>e(h,{onClose:()=>t()},null),class:"w-[256px]"})}},{default:()=>[o("REMOVE")]})]):e("div",{class:"flex items-center gap-x-4"},[e(s,{level:"important",width:"fit",class:"h-8 text-sm flex justify-center",onClick:()=>{const t=n({content:()=>e(h,{onClose:()=>t()},null),class:"w-[256px]"})}},{default:()=>[o("EXPORT ALL")]}),e(s,{level:"remove",width:"fit",class:"h-8 text-sm flex justify-center",onClick:()=>{const t=n({content:()=>e(h,{onClose:()=>t()},null),class:"w-[256px]"})}},{default:()=>[o("REMOVE ALL")]})]),e(s,{width:"fit",class:"h-8 text-sm font-bold",onClick:()=>d.value=!1},{default:()=>[o("CANCEL")]})]):e("div",{class:"flex items-center gap-x-4 justify-end"},[e(s,{level:"text",width:"fit",class:"h-8 text-sm font-bold",onClick:()=>d.value=!0},{default:()=>[o("MULTI SELECT")]}),e(s,{level:"important",width:"fit",class:"h-8 text-sm",onClick:()=>{const t=n({content:()=>e(b,{onClose:()=>t()},null),class:"w-[384px]"})}},{default:()=>[o("ADD")],prefix:()=>e(w,{name:"add",colored:!0},null)})])])]),((l=c.value)==null?void 0:l.resource[0])&&e(N,{ref:a,columns:m.value,dataSource:c.value.resource,total:c.value.resource.length,enableSelect:d.value},{cell:({row:t,column:r})=>{if(r.prop==="dimension_requirements"){const y=t[r.prop];return e("div",{class:"flex flex-wrap gap-2"},[y.map(v=>e(O,{key:v},X(v)?v:{default:()=>[v]}))])}else return r.prop==="name_id"?e("div",null,[e(s,{level:"text",width:"fit",class:"text-sm font-bold !p-0 block mb-1",onClick:x},{default:()=>[t[r.prop]]}),e("div",null,[o("12345678")])]):t[r.prop]}})])}});export{oe as ModelsPage,oe as default};
