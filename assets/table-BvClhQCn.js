import{c as x,b as l,m as r,S as u,K as T,r as f,x as h,e as z}from"./index-CowSbynL.js";const b=x({inheritAttrs:!1,props:{modelValue:!1,indeterminate:!1,disabled:!1,class:""},emits:{"update:modelValue":a=>!0}},(a,{emit:c})=>{const i=()=>{c("update:modelValue",!a.modelValue)};return()=>l("div",{class:r("relative flex items-center",a.class)},[l("input",{type:"checkbox",checked:a.modelValue,class:r("absolute w-full h-full opacity-0 cursor-pointer",a.disabled?"cursor-not-allowed":""),disabled:a.disabled,onChange:i},null),l("div",{class:r("w-4 h-4 border rounded flex items-center justify-center !border-[#ccc]",a.modelValue?"bg-[#4E5575] !border-[#4E5575]":"bg-white border-gray-300",a.indeterminate?"bg-[#4E5575] !border-[#4E5575]":"",a.disabled?"bg-[#ccc] !border-[#ccc] ":"")},[a.modelValue&&!a.indeterminate&&(a.disabled?l(u,{name:"check-disabled",class:"w-3 h-3",colored:!0},null):l(u,{name:"checked",class:"w-3 h-3",colored:!0},null)),a.indeterminate&&l(u,{name:"indeterminate",class:"w-3 h-3",colored:!0},null)])])}),N=x({props:{columns:[],dataSource:[],total:0,pageSizeOptions:[10,20,30,50,100],defaultPageSize:10,enableSelect:!1}},(a,{slots:c,expose:i})=>{const{columns:o,dataSource:m,defaultPageSize:g}=T(a),p=f(1),v=f(g||10),s=f([]);i({getSelectedRows:()=>d.value.reduce((e,t,n)=>(s.value.includes(t)&&(e.indexList.push(n),e.rows.push(t)),e),{indexList:[],rows:[]})});const d=h(()=>{const e=(p.value-1)*v.value,t=e+v.value;return m.value.slice(e,t)}),w=e=>{const t=s.value.indexOf(e);t===-1?s.value.push(e):s.value.splice(t,1)},S=e=>{e?s.value=[...d.value]:s.value=[]},y=h(()=>{const e=s.value.length;return e>0&&e<d.value.length}),V=(e,t)=>l("td",{class:"px-2 py-4 whitespace-nowrap text-sm"},[e.tooltip?l("div",{title:e.tooltip()},[t]):t]),C=(e,t,n)=>t.prop==="index"?m.value.indexOf(e)+1:t.cell?t.cell({row:e,column:t,index:n}):c.cell?c.cell({row:e,column:t,index:n}):e[t.prop],k=()=>l("div",{class:"overflow-x-auto"},[l("table",{class:"min-w-full divide-y divide-[#eee] mb-9"},[l("colgroup",null,[o.value.map(e=>l("col",{style:`width: ${e.width??"auto"}`},null))]),l("thead",{class:"bg-[#f4f4f4]"},[l("tr",null,[a.enableSelect&&l("th",{class:"px-2 py-3 text-left text-xs font-bold "},[l(b,{modelValue:s.value.length===d.value.length,indeterminate:y.value,"onUpdate:modelValue":S},null)]),o.value.map(e=>l("th",{class:"px-2 py-3 text-left text-xs font-bold text-[#999]"},[typeof e.header=="string"?e.header:e.header()]))])]),l("tbody",{class:"bg-[#fdfdfd] divide-y divide-[#eee]"},[d.value.map((e,t)=>l("tr",null,[a.enableSelect&&l("td",{class:"px-2 py-4 whitespace-nowrap text-sm"},[l(b,{modelValue:s.value.includes(e),"onUpdate:modelValue":()=>w(e)},null)]),o.value.map(n=>V(n,C(e,n,t)))])),d.value.length===0&&l("div",{class:"  flex justify-center items-center flex-col"},[l(u,{name:"no-data",colored:!0,class:"w-10 h-10"},null),l("span",{class:"text-[#999] text-sm ml-2"},[z("No Data")])])])])]);return()=>k()});export{b as C,N as T};
