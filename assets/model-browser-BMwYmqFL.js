import{c as C,r as c,w as E,x as S,b as e,e as l,S as h,B as o,g as s,i as b,p as T}from"./index-CowSbynL.js";import{D}from"./date-picker-wgI5DOO0.js";import{I as y}from"./input-Di_pthpZ.js";import{T as A}from"./table-BvClhQCn.js";import{T as k}from"./tag-DYtrA518.js";import{A as I}from"./add-ojiAuodK.js";import{S as O,R as d,D as R,E as N}from"./side-search-CoqQr3O5.js";import{E as _}from"./edit-tJRPPmLT.js";import{I as L}from"./import-wwwvMR2F.js";import{E as j}from"./export-Btq0A6EJ.js";import{R as M}from"./remove-confirm-CdLnYlZA.js";import{S as P}from"./select-ABZmvD2f.js";import"./pool-list.schema-BuL7WaTi.js";import"./list-DoE2lGsq.js";import"./selectable-card-DDps2EVD.js";function V(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!b(n)}const ee=C(null,()=>{c({page:1,perPage:10,total:100});const n=c({resource:[{index:1,id:"123",asset_id:"123",version:"1.0.0",item:"item",content:"content",tag:["tag1","tag2"],data_space:"data_space",data_pool:"data_pool",models:"models",attachment:"attachment",status:"status",created_at:"created_at",modify:"modify"}]});E(()=>n.value,()=>{var a;console.log("data: ",(a=n.value)==null?void 0:a.resource)});const v=c([{prop:"index",header:()=>"NO.",width:"80px"},{prop:"id",header:()=>"ID"},{prop:"asset_id",header:()=>"ASSET ID"},{prop:"version",header:()=>"VERSION"},{prop:"item",header:()=>"ITEM"},{prop:"content",header:()=>"CONTENT"},{prop:"tag",header:()=>"TAG"},{prop:"data_space",header:()=>"DATA SPACE"},{prop:"data_pool",header:()=>"DATA POOL"},{prop:"models",header:()=>"MODELS"},{prop:"attachment",header:()=>"ATTENCHMENT"},{prop:"status",header:()=>"STATUS"},{prop:"created_at",header:()=>"CREAT"},{prop:"modify",header:()=>"MODIFY"},{prop:"actions",header:()=>"ACTIONS",cell:a=>e("div",{class:"flex gap-x-4 items-center"},[e(o,{level:"text",width:"fit",class:"h-8 text-sm font-bold !px-0",onClick:()=>w()},{default:()=>[l("VIEW")]}),e(o,{level:"text",width:"fit",class:"h-8 text-sm font-bold !px-0",onClick:()=>{const t=s({content:()=>e(L,{onBack:()=>t()},null),class:"w-[372px]"})}},{default:()=>[l("DIMENSION")]}),e(T,{ref:m},{default:()=>[e("div",{class:"font-bold w-24"},[e(o,{level:"text",class:"flex items-center justify-center text-left px-4 py-2 !h-10 w-full",onClick:()=>{x();const t=s({content:()=>e(j,{onCancel:()=>t(),content:()=>"Selected items will be exported to .csv format, which you can open with Excel"},null),hideHeader:!0})}},{default:()=>[l("EXPORT")]}),e("div",{class:"h-[1px] bg-[#EEE]"},null),e(o,{level:"text",class:"flex items-center justify-center text-left px-4 py-2 !h-10 text-red-500 w-full",onClick:()=>{x();const t=s({content:()=>e(M,{content:()=>e("div",null,[l("It cannot be restored after deletion."),e("br",null,null),l("Are you sure you want to remove it?")]),onClose:()=>t(),onSubmit:()=>{t(),console.log("submit")}},null),class:"w-[266px]",hideHeader:!0})}},{default:()=>[l("REMOVE")]})])]})])}]),r=c(!1),p=c(null),f=S(()=>p.value?p.value.getSelectedRows():{indexList:[],rows:[]}),m=c(),x=()=>{var a;(a=m.value)==null||a.hide()},w=()=>{const a=s({content:()=>e(R,{onRemove:()=>{a();const t=s({content:()=>e(d,{onClose:()=>t()},null),class:"w-[256px]"})}},null)})};return()=>{var a;return e("div",{class:"p-8"},[e("header",{class:"text-3xl font-bold mb-8"},[l("Model Browser")]),e("div",{class:"flex w-full gap-2"},[e(O,null,null),e("div",{class:"grow p-2"},[e("x-toolbar",{class:"flex justify-between items-center mb-4"},[!r.value&&e("div",{class:"flex gap-x-4 items-center"},[e(y,{class:"!w-52",placeholder:"Search"},{prefix:()=>e(h,{name:"search",colored:!0,class:"mx-2 w-4 h-4"},null)}),e(P,{class:"!w-36",placeholder:"Status",filterable:!0},null),e(D,null,null)]),e("x-actions",{class:"w-full"},[r.value?e("div",{class:"flex items-center gap-x-4 justify-between w-full"},[f.value.indexList.length>0?e("div",{class:"flex items-center gap-x-4 justify-end"},[f.value.indexList.length===1&&e(o,{width:"fit",class:"h-8 text-sm",onClick:()=>{const t=s({content:()=>e(_,{onBack:()=>t()},null),class:"w-[384px]"})}},{default:()=>[l("EDIT")]}),e(o,{width:"fit",class:"h-8 text-sm",onClick:()=>{s({content:()=>e(N,{onCancel:()=>close()},null),class:"w-[256px]"})}},{default:()=>[l("EXPORT")]}),e(o,{level:"remove_outline",width:"fit",class:"h-8 text-sm",onClick:()=>{const t=s({content:()=>e(d,{onClose:()=>t()},null),class:"w-[256px]"})}},{default:()=>[l("REMOVE")]})]):e("div",{class:"flex items-center gap-x-4"},[e(o,{level:"important",width:"fit",class:"h-8 text-sm flex justify-center",onClick:()=>{const t=s({content:()=>e(d,{onClose:()=>t()},null),class:"w-[256px]"})}},{default:()=>[l("EXPORT ALL")]}),e(o,{level:"remove",width:"fit",class:"h-8 text-sm flex justify-center",onClick:()=>{const t=s({content:()=>e(d,{onClose:()=>t()},null),class:"w-[256px]"})}},{default:()=>[l("REMOVE ALL")]})]),e(o,{width:"fit",class:"h-8 text-sm font-bold",onClick:()=>r.value=!1},{default:()=>[l("CANCEL")]})]):e("div",{class:"flex items-center gap-x-4 justify-end"},[e(o,{level:"text",width:"fit",class:"h-8 text-sm font-bold",onClick:()=>r.value=!0},{default:()=>[l("MULTI SELECT")]}),e(o,{level:"important",width:"fit",class:"h-8 text-sm",onClick:()=>{const t=s({content:()=>e(I,{onClose:()=>t()},null),class:"w-[384px]"})}},{default:()=>[l("ADD")],prefix:()=>e(h,{name:"add",colored:!0},null)})])])]),((a=n.value)==null?void 0:a.resource[0])&&e(A,{class:"grow",ref:p,columns:v.value,dataSource:n.value.resource,total:n.value.resource.length,enableSelect:r.value},{cell:({row:t,column:u})=>{if(u.prop==="tag"){const g=t[u.prop];return e("div",{class:"flex flex-wrap gap-2"},[g.map(i=>e(k,{key:i},V(i)?i:{default:()=>[i]}))])}else return t[u.prop]}})])])])}});export{ee as ModelBrowserPage,ee as default};
