import{c as E,q as v,b as e,S as w,e as l,F as y,h as D,B as s,r as x,w as S,x as T,g as a,n as P,i as j,p as O,k as R}from"./index-CowSbynL.js";import{D as A}from"./date-picker-wgI5DOO0.js";import{T as L}from"./table-BvClhQCn.js";import{T as V}from"./tag-DYtrA518.js";import{A as I}from"./add-ojiAuodK.js";import{E as C}from"./edit-CMvKx3Sj.js";import{E as g}from"./export-DWM6igy0.js";import{S as b}from"./select-ABZmvD2f.js";import{u as N}from"./use-swrv-B6eok1CW.js";import"./pool-list.schema-BuL7WaTi.js";const m=E({emits:["close"]},(c,{emit:r})=>{const d=v({password:""}),o=v({password:[""]}),u=()=>{o.password=["Password is required"]};return()=>e("div",{class:"p-4"},[e("header",{class:"flex justify-center my-2"},[e(w,{name:"warn",colored:!0,class:"w-10 h-10"},null)]),e("main",{class:"flex justify-center text-center text-sm text-[#666]"},[l("Removing  Pool Name will also delete 133 data assets Enter your password to confirm")]),e(y,{onSubmit:u},{default:()=>{var p;return[e(D,{withDialog:!0,error:(p=o.password)==null?void 0:p[0],type:"password",modelValue:d.password,"onUpdate:modelValue":h=>d.password=h,placeholder:"Password"},null),e("div",{class:"flex justify-center gap-4 h-8 text-sm mt-8  "},[e(s,{width:"fit",class:" w-[108px] flex justify-center",onClick:()=>r("close")},{default:()=>[l("Cancel")]}),e(s,{level:"remove",width:"fit",type:"submit",class:" w-[108px] flex justify-center",disabled:!d.password},{default:()=>[l("REMOVE")]})])]}})])});function B(c){return typeof c=="function"||Object.prototype.toString.call(c)==="[object Object]"&&!j(c)}const H=E(null,()=>{const c=x({page:1,perPage:10,total:100}),{data:r}=N(["/api/data-pool",c.value.page,c.value.perPage],async(n,t,i)=>(await R.get(n,{page:t,perPage:i})).data);S(()=>r.value,()=>{var n;console.log("data: ",(n=r.value)==null?void 0:n.resource)});const d=x([{prop:"index",header:()=>"NO.",width:"80px"},{prop:"name_id",header:()=>"NAME/ID"},{prop:"count",header:()=>"COUNT"},{prop:"data_space",header:()=>"DATA SPACE"},{prop:"created_at",header:()=>"CREAT"},{prop:"modify",header:()=>"MODIFY"},{prop:"actions",header:()=>"ACTIONS",cell:n=>e("div",{class:"flex gap-x-4 items-center"},[e(s,{level:"text",width:"fit",class:"h-8 text-sm font-bold",onClick:()=>{}},{default:()=>[l("VIEW")]}),e(s,{level:"text",width:"fit",class:"h-8 text-sm font-bold",onClick:()=>{}},{default:()=>[l("IMPORT")]}),e(O,{buttonText:"···",options:[{text:"EDIT",onClick:()=>{const t=a({content:()=>e(C,{onBack:()=>t()},null),class:"w-[384px]"})}},{text:"EXPORT",onClick:()=>{const t=a({content:()=>e(g,{onCancel:()=>t()},null),class:"w-[256px]"})}},{text:"REMOVE",level:"danger",onClick:()=>{const t=a({content:()=>e(m,{onClose:()=>t()},null),class:"w-[256px]"})}}]},null)])}]),o=x(!1),u=x(null),p=T(()=>u.value?u.value.getSelectedRows():{indexList:[],rows:[]}),h=()=>{};return()=>{var n;return e("div",{class:"p-8"},[e("header",{class:"text-3xl font-bold mb-8"},[l("Data Pool")]),e("x-toolbar",{class:"flex justify-between items-center mb-4"},[!o.value&&e("div",{class:"flex gap-x-4 items-center"},[e(b,{class:"!w-[180px]",placeholder:"Data Pool",filterable:!0},{prefix:()=>e(w,{name:"search",colored:!0},null)}),e(b,{class:"!w-[180px]",placeholder:"Data Space",filterable:!0},{prefix:()=>e(w,{name:"data-space",colored:!0},null)}),e(A,null,null)]),e("x-actions",{class:"w-full"},[o.value?e("div",{class:"flex items-center gap-x-4 justify-between w-full"},[p.value.indexList.length>0?e("div",{class:"flex items-center gap-x-4 justify-end"},[p.value.indexList.length===1&&e(s,{width:"fit",class:"h-8 text-sm",onClick:()=>{const t=a({content:()=>e(C,{onBack:()=>t()},null),class:"w-[384px]"})}},{default:()=>[l("EDIT")]}),e(s,{width:"fit",class:"h-8 text-sm",onClick:()=>{a({content:()=>e(g,{onCancel:()=>close()},null),class:"w-[256px]"})}},{default:()=>[l("EXPORT")]}),e(s,{level:"remove_outline",width:"fit",class:"h-8 text-sm",onClick:()=>{const t=a({content:()=>e(m,{onClose:()=>t()},null),class:"w-[256px]"})}},{default:()=>[l("REMOVE")]})]):e("div",{class:"flex items-center gap-x-4"},[e(s,{level:"important",width:"fit",class:"h-8 text-sm flex justify-center",onClick:()=>{const t=a({content:()=>e(m,{onClose:()=>t()},null),class:"w-[256px]"})}},{default:()=>[l("EXPORT ALL")]}),e(s,{level:"remove",width:"fit",class:"h-8 text-sm flex justify-center",onClick:()=>{const t=a({content:()=>e(m,{onClose:()=>t()},null),class:"w-[256px]"})}},{default:()=>[l("REMOVE ALL")]})]),e(s,{width:"fit",class:"h-8 text-sm font-bold",onClick:()=>o.value=!1},{default:()=>[l("CANCEL")]})]):e("div",{class:"flex items-center gap-x-4 justify-end"},[e(s,{level:"text",width:"fit",class:"h-8 text-sm font-bold",onClick:()=>o.value=!0},{default:()=>[l("MULTI SELECT")]}),e(s,{level:"important",width:"fit",class:"h-8 text-sm",onClick:()=>{const t=a({content:()=>e(I,{onClose:()=>t()},null),class:"w-[384px]"})}},{default:()=>[l("ADD")],prefix:()=>e(w,{name:"add",colored:!0},null)})])])]),((n=r.value)==null?void 0:n.resource[0])&&e(L,{ref:u,columns:d.value,dataSource:r.value.resource,total:r.value.resource.length,enableSelect:o.value},{cell:({row:t,column:i})=>{if(i.prop==="dimension_requirements"){const k=t[i.prop];return e("div",{class:"flex flex-wrap gap-2"},[k.map(f=>e(V,{key:f},B(f)?f:{default:()=>[f]}))])}else return i.prop==="name_id"?e(P,null,[e(s,{level:"text",width:"fit",class:" text-sm font-bold",onClick:h},{default:()=>[t[i.prop]]}),l("12345678")]):t[i.prop]}})])}});export{H as PoolListPage,H as default};
