import{c as g,q as v,b as e,e as t,F as E,h as x,B as n,f as b,r as f,w as C,x as y,g as u,S as D,p as S}from"./index-CowSbynL.js";import{T as V}from"./table-BvClhQCn.js";import{E as N}from"./edit-CMvKx3Sj.js";import{R as h}from"./remove-confirm-CdLnYlZA.js";import{P as R}from"./pool-list.schema-BuL7WaTi.js";import{S as I}from"./select-ABZmvD2f.js";const w=g({inheritAttrs:!1,props:{class:""},emits:{close:b,submit:b}},(c,{emit:m})=>{const l=v({requireName:"",creator:"",description:""}),a=v({requireName:[],creator:[],description:[]}),d=r=>{r.preventDefault(),Object.assign(a,{requireName:[],creator:[],description:[]}),p()&&(console.log(l),m("submit",l))},p=()=>{const r=R.safeParse(l);return r.success?!0:(r.error.issues.forEach(s=>{const o=s.path[0];a[o].push(s.message)}),console.log("errors",a),!1)};return()=>e("div",{class:"p-8 w-[384px]"},[e("div",{class:"dialog-header"},[e("h3",{class:"text-sm font-bold text-[#999] absolute left-4 top-4"},[t("NEW")])]),e("div",{class:"flex items-center justify-between mt-4 "},[e(E,{onSubmit:d},{default:()=>{var r,s,o;return[e(x,{error:(r=a.requireName)==null?void 0:r[0],label:"Require Name",type:"text",withDialog:!0,modelValue:l.requireName,"onUpdate:modelValue":i=>l.requireName=i},null),e(x,{error:(s=a.creator)==null?void 0:s[0],label:"Creator",type:"slot",modelValue:l.creator,"onUpdate:modelValue":i=>l.creator=i},{default:()=>[e(I,{class:"w-full",placeholder:"CREATOR",disabled:!0,modelValue:l.creator,"onUpdate:modelValue":i=>l.creator=i},null)]}),e(x,{error:(o=a.description)==null?void 0:o[0],label:"Description",type:"textarea",withDialog:!0,modelValue:l.description,"onUpdate:modelValue":i=>l.description=i},null)]}})]),e("div",{class:"flex justify-end gap-4 h-8 text-sm mt-8   "},[e(n,{width:"fit",type:"submit",class:"px-8 py-2",onClick:()=>m("close")},{default:()=>[t("BACK")]}),e(n,{level:"important",width:"fit",type:"submit",class:"px-8 py-2",onClick:d},{default:()=>[t("SUBMIT")]})])])}),O=g(null,()=>{const c=f({resource:[{index:1,name_id:"12345678",count:1,data_space:"12345678",created_at:"12345678",modify:"12345678"}],total:0,page:1,perPage:10});C(()=>c.value,()=>{var s;console.log("data: ",(s=c.value)==null?void 0:s.resource)});const m=f([{prop:"index",header:()=>"NO.",width:"80px"},{prop:"requirements",header:()=>"REQUIREMENTS"},{prop:"created_at",header:()=>"CREATE"},{prop:"modify",header:()=>"MODIFY"},{prop:"actions",header:"ACTIONS",cell:s=>e("div",{class:"flex items-center justify-start"},[e(S,{ref:p},{default:()=>[e("div",{class:"font-bold w-24"},[e(n,{level:"text",class:"flex items-center justify-center text-left px-4 py-2 !h-10 w-full",onClick:()=>{r(),u({content:()=>e(w,null,null),class:"w-[384px]"})}},{default:()=>[t("EDIT")]}),e("div",{class:"h-[1px] bg-[#EEE]"},null),e(n,{level:"text",class:"flex items-center justify-center text-left px-4 py-2 !h-10 text-red-500 w-full",onClick:()=>{r();const o=u({content:()=>e(h,{content:()=>e("div",null,[t("It cannot be restored after deletion."),e("br",null,null),t("Are you sure you want to remove it?")]),onClose:()=>o(),onSubmit:()=>{o(),console.log("submit")}},null),class:"w-[266px]",hideHeader:!0})}},{default:()=>[t("REMOVE")]})])]})])}]),l=f(!1),a=f(null),d=y(()=>a.value?a.value.getSelectedRows():{indexList:[],rows:[]}),p=f(),r=()=>{var s;(s=p.value)==null||s.hide()};return()=>{var s;return e("div",{class:"p-8"},[e("header",{class:"text-3xl font-bold mb-8"},[t("Custom Dimension")]),e("x-toolbar",{class:"flex justify-between items-center mb-4"},[e("x-actions",{class:"w-full"},[l.value?e("div",{class:"flex items-center gap-x-4 justify-between w-full"},[d.value.indexList.length>0?e("div",{class:"flex items-center gap-x-4 justify-end"},[d.value.indexList.length===1&&e(n,{width:"fit",class:"h-8 text-sm",onClick:()=>{const o=u({content:()=>e(N,{onBack:()=>o()},null),class:"w-[384px]"})}},{default:()=>[t("EDIT")]}),e(n,{level:"remove_outline",width:"fit",class:"h-8 text-sm",onClick:()=>{u({content:()=>e(h,{content:()=>e("div",null,[t("It cannot be restored after deletion."),e("br",null,null),t("Enter your password to confirm")]),passwordVisible:!0},null),class:"w-[256px]"})}},{default:()=>[t("REMOVE")]})]):e("div",{class:"flex items-center gap-x-4"},[e(n,{level:"normal",width:"fit",class:"h-8 text-sm flex justify-center text-white !bg-[#E92D2D]",onClick:()=>{const o=u({content:()=>e(h,{content:()=>e("div",null,[t("It cannot be restored after deletion."),e("br",null,null),t("Enter your password to confirm")]),onClose:()=>o(),passwordVisible:!0},null),class:"w-[266px]",hideHeader:!0})}},{default:()=>[t("REMOVE ALL")]})]),e(n,{width:"fit",class:"h-8 text-sm font-bold",onClick:()=>l.value=!1},{default:()=>[t("CANCEL")]})]):e("div",{class:"flex items-center gap-x-4 justify-end"},[e(n,{level:"text",width:"fit",class:"h-8 text-sm font-bold",onClick:()=>l.value=!0},{default:()=>[t("MULTI SELECT")]}),e(n,{level:"important",width:"fit",class:"h-8 text-sm",onClick:()=>{const o=u({content:()=>e(w,{onClose:()=>o()},null),class:"w-[384px]"})}},{default:()=>[t("ADD")],prefix:()=>e(D,{name:"add",colored:!0},null)})])])]),((s=c.value)==null?void 0:s.resource[0])&&e(V,{ref:a,columns:m.value,dataSource:c.value.resource,total:c.value.resource.length,enableSelect:l.value},null)])}});export{O as CustomDimensionPage,O as default};
